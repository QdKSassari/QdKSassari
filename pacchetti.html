<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Scopri i nostri pacchetti karaoke per ogni esigenza. Pacchetti personalizzabili per locali, eventi privati e aziendali a Sassari e provincia.">
    <meta name="keywords" content="pacchetti karaoke sassari, prezzi karaoke sassari, eventi karaoke sardegna">
    <title>Pacchetti e Prezzi - Quelli del Karaoke Sassari</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/pacchetti.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Fredoka+One&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <!-- Header uguale a index.html -->
    <header class="hero">
        <nav>
            <div class="logo">QDK Sassari</div>
            <div class="mobile-menu-btn">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links">
                <li><a href="#pacchetti-principali">Pacchetti</a></li>
                <li><a href="#confronto">Confronta</a></li>
                <li><a href="#extra">Extra</a></li>
                <li><a href="#offerte">Offerte</a></li>
                <li><a href="#calcolatore">Preventivo</a></li>
                <li><a href="index.html">Home</a></li>
            </ul>
        </nav>
        <div class="hero-content">
            <h1>I Nostri Pacchetti</h1>
            <p>Soluzioni su misura per ogni esigenza</p>
        </div>
    </header>

    <main>
        <!-- Pacchetti Principali con Layout Migliorato -->
        <section id="pacchetti-principali" class="section packages">
            <div class="content-wrapper">
                <h2>I Nostri Pacchetti</h2>
                <p class="section-description">Scegli il pacchetto pi√π adatto alle tue esigenze</p>
                <div class="packages-grid">
                    <!-- Pacchetto Base -->
                    <article class="package-card base">
                        <div class="package-header">
                            <h3>Pacchetto Base</h3>
                            <div class="price">80‚Ç¨</div>
                            <div class="price-note">a partire da 80‚Ç¨</div>
                        </div>
                        <div class="package-content">
                            <ul>
                                <li><i class="fas fa-clock"></i> 3 ore di spettacolo</li>
                                <li><i class="fas fa-share-alt"></i> 1 post + 1 storia social</li>
                            </ul>
                        </div>
                        <div class="package-footer">
                            <a href="calcolatore.html?package=base" class="cta-button">Calcola Preventivo</a>
                            <a href="pacchetti/base.html" class="info-button">Maggiori Info</a>
                        </div>
                    </article>

                    <!-- Pacchetto Standard -->
                    <article class="package-card standard">
                        <div class="package-header">
                            <div class="badge">Pi√π Richiesto</div>
                            <h3>Pacchetto Standard</h3>
                            <div class="price">120‚Ç¨</div>
                            <div class="price-note">a partire da 120‚Ç¨</div>
                        </div>
                        <div class="package-content">
                            <ul>
                                <li><i class="fas fa-clock"></i> 4 ore di spettacolo</li>
                                <li><i class="fas fa-camera"></i> Set fotografico base (10 foto)</li>
                                <li><i class="fas fa-share-alt"></i> 2 post + 3 storie social</li>
                                <li><i class="fas fa-film"></i> Reel 30s</li>
                            </ul>
                        </div>
                        <div class="package-footer">
                            <a href="calcolatore.html?package=standard" class="cta-button">Calcola Preventivo</a>
                            <a href="pacchetti/standard.html" class="info-button">Maggiori Info</a>
                        </div>
                    </article>

                    <!-- Pacchetto Premium -->
                    <article class="package-card premium">
                        <div class="package-header">
                            <h3>Pacchetto Premium</h3>
                            <div class="price">180‚Ç¨</div>
                            <div class="price-note">a partire da 180‚Ç¨</div>
                        </div>
                        <div class="package-content">
                            <ul>
                                <li><i class="fas fa-clock"></i> 5 ore di spettacolo</li>
                                <li><i class="fas fa-camera"></i> Set fotografico completo (25 foto)</li>
                                <li><i class="fas fa-video"></i> Reel 60s</li>
                                <li><i class="fas fa-share-alt"></i> Gestione social completa</li>
                                <li><i class="fas fa-broadcast-tower"></i> Diretta social</li>
                            </ul>
                        </div>
                        <div class="package-footer">
                            <a href="calcolatore.html?package=premium" class="cta-button">Calcola Preventivo</a>
                            <a href="pacchetti/premium.html" class="info-button">Maggiori Info</a>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Tabella Comparativa -->
        <section id="confronto" class="section comparison">
            <div class="content-wrapper">
                <h2>Confronta i Pacchetti</h2>
                <p class="section-description">Analizza nel dettaglio cosa include ogni pacchetto</p>
                <div class="table-responsive">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Caratteristiche</th>
                                <th>Base</th>
                                <th>Standard</th>
                                <th>Premium</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Durata</td>
                                <td>3 ore</td>
                                <td>4 ore</td>
                                <td>5 ore</td>
                            </tr>
                            <tr>
                                <td>Set Fotografico</td>
                                <td>-</td>
                                <td>10 foto</td>
                                <td>25 foto</td>
                            </tr>
                            <tr>
                                <td>Post Social</td>
                                <td>1</td>
                                <td>2</td>
                                <td>3+</td>
                            </tr>
                            <tr>
                                <td>Storie Instagram</td>
                                <td>1</td>
                                <td>3</td>
                                <td>5+</td>
                            </tr>
                            <tr>
                                <td>Video Highlights</td>
                                <td>-</td>
                                <td>Reel 30s</td>
                                <td>Reel 60s</td>
                            </tr>
                            <tr>
                                <td>Post Sponsorizzato</td>
                                <td>-</td>
                                <td>-</td>
                                <td><i class="fas fa-check"></i></td>
                            </tr>
                            <tr>
                                <td>Diretta Social</td>
                                <td>-</td>
                                <td>-</td>
                                <td><i class="fas fa-check"></i></td>
                            </tr>
                            <tr>
                                <td>Grafica Personalizzata</td>
                                <td>Base</td>
                                <td>Standard</td>
                                <td>Premium</td>
                            </tr>
                            <!-- Add more rows... -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Sezione Servizi Extra -->
        <section id="extra" class="section extras">
            <div class="content-wrapper">
                <h2>Servizi Extra</h2>
                <p class="section-description">Personalizza il tuo evento con i nostri servizi aggiuntivi</p>
                <div class="extras-grid">
                    <div class="extra-item">
                        <i class="fas fa-clock"></i>
                        <h4>Ora Aggiuntiva</h4>
                        <p>30‚Ç¨</p>
                    </div>
                    <div class="extra-item">
                        <i class="fas fa-camera"></i>
                        <h4>Set Fotografico Base</h4>
                        <p>40‚Ç¨ (10 foto)</p>
                    </div>
                    <div class="extra-item">
                        <i class="fas fa-camera"></i>
                        <h4>Set Fotografico Completo</h4>
                        <p>80‚Ç¨ (25 foto)</p>
                    </div>
                    <div class="extra-item">
                        <i class="fas fa-video"></i>
                        <h4>Video Reel</h4>
                        <p>80‚Ç¨ (60s)</p>
                    </div>
                    <!-- Altri servizi extra... -->
                </div>
            </div>
        </section>

        <!-- Sezione Offerte Speciali -->
        <section id="offerte" class="section special-offers">
            <h2>Offerte Speciali e Limitazioni</h2>
            <p class="section-description">Scopri tutte le nostre promozioni e condizioni speciali</p>
            <div class="offers-grid">
                <!-- Pacchetti Infrasettimanali -->
                <div class="offer-card">
                    <h3><i class="fas fa-calendar-week"></i> Pacchetti Infrasettimanali</h3>
                    <div class="package-type">
                        <div class="package-option">
                            <h4>Mensile</h4>
                            <p class="price-line">4 serate: <span class="discount">-15%</span></p>
                            <small class="note">Solo da luned√¨ a gioved√¨</small>
                        </div>
                        <div class="package-option">
                            <h4>Trimestrale</h4>
                            <p class="price-line">12 serate: <span class="discount">-25%</span></p>
                            <small class="note">Solo da luned√¨ a gioved√¨</small>
                        </div>
                    </div>
                </div>

                <!-- Pacchetti Weekend -->
                <div class="offer-card">
                    <h3><i class="fas fa-glass-cheers"></i> Pacchetti Weekend</h3>
                    <p class="package-requirement">
                        <i class="fas fa-info-circle"></i> Valido solo con pacchetto Standard o Premium
                    </p>
                    <div class="package-type">
                        <div class="package-option">
                            <h4>Mensile</h4>
                            <p class="price-line">4 serate: <span class="discount">-10%</span></p>
                            <ul class="limits">
                                <li>Max 2 sabati al mese</li>
                            </ul>
                        </div>
                        <div class="package-option">
                            <h4>Trimestrale</h4>
                            <p class="price-line">12 serate: <span class="discount">-15%</span></p>
                            <ul class="limits">
                                <li>Max 3 sabati nel trimestre</li>
                            </ul>
                        </div>
                    </div>
                    <div class="package-notes">
                        <p><i class="fas fa-info-circle"></i> Richiesto anticipo 30%</p>
                        <p><i class="fas fa-exclamation-circle"></i> Non cumulabile con altre promozioni</p>
                    </div>
                </div>

                <!-- Pacchetti Misti -->
                <div class="offer-card">
                    <h3><i class="fas fa-calendar-alt"></i> Pacchetti Misti</h3>
                    <p class="package-requirement">
                        <i class="fas fa-info-circle"></i> Valido solo con pacchetto Standard o Premium
                    </p>
                    <div class="package-type">
                        <div class="package-option">
                            <h4>Mensile</h4>
                            <p class="price-line">4 serate: <span class="discount">-12%</span></p>
                            <ul class="limits">
                                <li>Max 1 sabato al mese</li>
                                <li>Max 2 venerd√¨ al mese</li>
                            </ul>
                        </div>
                        <div class="package-option">
                            <h4>Trimestrale</h4>
                            <p class="price-line">12 serate: <span class="discount">-20%</span></p>
                            <ul class="limits">
                                <li>Max 3 sabati nel trimestre</li>
                                <li>Max 5 venerd√¨ nel trimestre</li>
                            </ul>
                        </div>
                    </div>
                    <div class="package-notes">
                        <p><i class="fas fa-info-circle"></i> Richiesto anticipo 30%</p>
                        <p><i class="fas fa-exclamation-circle"></i> Non cumulabile con altre promozioni</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Calcolatore -->
        <section id="calcolatore" class="section calculator-section">
            <div class="content-wrapper">
                <div class="calculator-header text-center">
                    <h2>Calcola il Tuo Preventivo</h2>
                    <p class="section-description">Simula il costo del tuo evento in pochi click</p>
                    <a href="calcolatore.html" class="calculator-button">
                        <i class="fas fa-calculator"></i>
                        Calcola Ora
                    </a>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Funzione per arrotondare alla decina pi√π vicina
        function roundToTen(num) {
            return Math.round(num / 10) * 10;
        }

        function generateWhatsAppMessage() {
            // Raccogli i dati del preventivo
            let pacchetto = $('#base-package option:selected').text();
            let giorno = $('#day-type option:selected').text();
            let extras = [];
            $('.extra:checked').each(function() {
                extras.push($(this).parent().text().trim());
            });
            let continuita = $('#continuative option:selected').text();
            let distanza = $('#distance').val() || 0;
            let prezzoFinale = $('#final-price').text();

            // Costruisci il messaggio
            let message = "Ciao! üëã Sono interessato a un preventivo con queste caratteristiche:\n\n";
            message += `üì¶ ${pacchetto}\n`;
            message += `üìÖ ${giorno}\n`;
            if (extras.length > 0) {
                message += "‚ûï Extra selezionati:\n";
                extras.forEach(extra => message += `   ‚Ä¢ ${extra}\n`);
            }
            if (continuita !== "Singola Serata") {
                message += `üîÑ ${continuita}\n`;
            }
            if (distanza > 20) {
                message += `üìç Distanza da Sassari: ${distanza}km\n`;
            }
            message += `\nüí∞ Preventivo stimato: ${prezzoFinale}‚Ç¨\n\n`;
            message += "Vorrei maggiori informazioni, grazie!";

            // Codifica il messaggio per URL
            return encodeURIComponent(message);
        }

        function calculatePrice() {
            // Get base values
            let basePrice = parseFloat($('#base-package').val());
            let dayType = $('#day-type').val();
            let continuativeDiscount = parseFloat($('#continuative').val());
            let distance = parseInt($('#distance').val()) || 0;
            
            // Gestione prezzo in base al giorno
            let dayMultiplier = 1;
            let finalBasePrice = basePrice;
            
            if (dayType === "90" || dayType === "100" || dayType === "400") {
                // Per venerd√¨, sabato e capodanno usiamo il prezzo fisso
                finalBasePrice = parseFloat(dayType);
                dayMultiplier = 1;
            } else {
                // Per gli altri giorni usiamo il moltiplicatore
                dayMultiplier = parseFloat(dayType);
                finalBasePrice = basePrice;
            }
            
            // Calculate extras, separating sponsorship
            let extrasTotal = 0;
            let sponsorshipCost = 0;
            $('.extra:checked').each(function() {
                let value = parseFloat($(this).val());
                if ($(this).parent().text().includes('Post Sponsorizzato')) {
                    sponsorshipCost = value;
                } else {
                    extrasTotal += value;
                }
            });

            // Calculate travel cost (if distance > 20km, round trip)
            let travelCost = 0;
            if (distance > 20) {
                let extraKm = distance - 20;
                travelCost = Math.round(extraKm * 2 * 0.30 * 10) / 10;
            }

            // Calculate all components
            let dayMarkup = roundToTen(finalBasePrice - basePrice);
            // Apply multiplier to base price and extras except sponsorship
            let subtotal = roundToTen((finalBasePrice + extrasTotal * dayMultiplier) + sponsorshipCost);
            let discount = roundToTen(subtotal * (1 - continuativeDiscount));
            let discountedPrice = subtotal * continuativeDiscount;
            let finalPrice = roundToTen(discountedPrice + travelCost);

            // Update display
            $('#base-price').text(finalBasePrice);
            $('#extras-price').text(extrasTotal + sponsorshipCost);
            $('#day-markup').text(dayMarkup);
            $('#discount').text(discount);
            $('#travel-cost').text(Math.round(travelCost));
            $('#final-price').text(finalPrice);
            
            // Debug
            console.log('Distance:', distance, 'km');
            console.log('Travel Cost:', travelCost, '‚Ç¨');
            console.log('Final Price:', finalPrice, '‚Ç¨');
        }

        // Add event listeners
        $('#base-package, #day-type, #continuative').change(calculatePrice);
        $('.extra').change(calculatePrice);
        $('#distance').on('input change', calculatePrice);

        // Initial calculation
        $(document).ready(calculatePrice);

        // Aggiungi handler per il pulsante
        $(document).ready(function() {
            $('.cta-button').click(function(e) {
                e.preventDefault();
                let message = generateWhatsAppMessage();
                window.open(`https://wa.me/393426631365?text=${message}`, '_blank');
            });
        });
    </script>

    <footer>
        <p>&copy; 2024 Quelli del Karaoke Sassari. Tutti i diritti riservati.</p>
    </footer>
</body>
</html> 